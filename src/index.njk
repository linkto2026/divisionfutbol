---
layout: layouts/base.njk
title: Inicio
pagination:
  data: collections.posts
  size: 10
  alias: postsPage
---

{# NOTICIA DESTACADA #}
{% set featured = collections.posts | selectattr("data.featured", "equalto", true) | first %}

{% if featured %}
  <section style="margin-bottom:32px;">
    {% if featured.data.cover %}
      <img 
        src="{{ featured.data.cover | url }}" 
        alt="{{ featured.data.title }}"
        style="width:100%;max-height:460px;object-fit:cover;border-radius:8px;"
      >
    {% endif %}

    <h2 style="margin:12px 0 4px 0;">
      <a href="{{ featured.url | url }}" style="text-decoration:none;color:inherit;">
        {{ featured.data.title }}
      </a>
    </h2>

    <div style="color:#555;font-size:14px;">
      {{ featured.data.date | date }}
      {% if featured.data.category %} · {{ featured.data.category }}{% endif %}
    </div>

    {% if featured.data.excerpt %}
      <p style="margin-top:8px;">{{ featured.data.excerpt }}</p>
    {% endif %}
  </section>

  <hr>
{% endif %}

{# LISTADO NORMAL #}
<h2>Últimas noticias</h2>

<ul>
  {% for post in postsPage %}
    {% if not post.data.featured %}
      <li style="margin-bottom:14px;">
        <a href="{{ post.url | url }}" style="font-weight:700;">
          {{ post.data.title }}
        </a>

        <div style="font-size:14px;color:#555;">
          {{ post.data.date | date }}
          {% if post.data.category %}
            · {{ post.data.category }}
          {% endif %}
        </div>
      </li>
    {% endif %}
  {% endfor %}
</ul>

<hr style="margin:16px 0;">

<nav style="display:flex;justify-content:space-between;">
  <div>
    {% if pagination.href.previous %}
      <a href="{{ pagination.href.previous | url }}">← Anterior</a>
    {% endif %}
  </div>

  <div style="color:#555;">
    Página {{ pagination.pageNumber + 1 }} de {{ pagination.pages.length }}
  </div>

  <div>
    {% if pagination.href.next %}
      <a href="{{ pagination.href.next | url }}">Siguiente →</a>
    {% endif %}
  </div>
</nav>
