---
layout: layouts/base.njk
title: Inicio
pagination:
  data: collections.posts
  size: 10
  alias: postsPage
---

<h1 class="h1">Últimas noticias</h1>

{% set featuredList = collections.featuredPosts %}

{% if featuredList and featuredList.length %}
  <section class="featured-slider" data-featured-slider data-interval="4500">

    {% for post in featuredList %}
      <article class="featured-slide {% if loop.first %}is-active{% endif %}" data-slide>
        {% if post.data.cover %}
          <img src="{{ post.data.cover | url }}" alt="{{ post.data.title }}">
        {% endif %}

        <div class="meta">
          {{ post.data.date | date }}
          {% if post.data.category %} · {{ post.data.category }}{% endif %}
        </div>

        <h2>
          <a href="{{ post.url | url }}">{{ post.data.title }}</a>
        </h2>

        {% if post.data.excerpt %}
          <p>{{ post.data.excerpt }}</p>
        {% endif %}
      </article>
    {% endfor %}

    <div class="featured-dots" aria-label="Destacadas">
      {% for post in featuredList %}
        <button
          class="dot {% if loop.first %}is-active{% endif %}"
          type="button"
          aria-label="Ir a destacada {{ loop.index }}"
          data-dot
        ></button>
      {% endfor %}
    </div>

  </section>

  <div class="hr"></div>

  <script src="{{ '/js/featured-slider.js' | url }}"></script>
{% endif %}

<ul class="list">
  {% for post in postsPage %}
    {% if not post.data.featured %}
      <li>
        <a href="{{ post.url | url }}"><strong>{{ post.data.title }}</strong></a>
        <div class="meta">
          {{ post.data.date | date }}
          {% if post.data.category %} · {{ post.data.category }}{% endif %}
        </div>
      </li>
    {% endif %}
  {% endfor %}
</ul>

<div class="hr"></div>

<nav class="meta" style="display:flex;justify-content:space-between;">
  <div>
    {% if pagination.href.previous %}
      <a href="{{ pagination.href.previous | url }}">← Anterior</a>
    {% endif %}
  </div>

  <div>
    Página {{ pagination.pageNumber + 1 }} de {{ pagination.pages.length }}
  </div>

  <div>
    {% if pagination.href.next %}
      <a href="{{ pagination.href.next | url }}">Siguiente →</a>
    {% endif %}
  </div>
</nav>
